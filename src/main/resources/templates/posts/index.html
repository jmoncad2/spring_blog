<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="fragments :: head('Mamajama Index')" />
<body>
<nav th:replace="fragments :: my-navbar" />
<h1>Posts Index Page</h1>
<h2>Listing of all the posts</h2>
<div th:each="post : ${posts}">
    <h2>Title: <span th:text="${post.title}"></span></h2>
    <h2>Body: <span th:text="${post.body}"></span></h2>
    <li sec:authorize="isAuthenticated()"><a th:href="@{'/posts/' + ${post.id} + '/edit'}">Edit post</a></li>
    <br />
    <li sec:authorize="isAuthenticated()">
        <form th:action="@{'/posts/delete'}" th:method="post">
            <input type="hidden" th:value="${post.id}" name="id" />
            <button>Delete post</button>
        </form>
    </li>
</div>
</body>
</html>